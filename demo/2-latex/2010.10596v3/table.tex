

\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}

\belowcaptionskip=10pt
\begin{table*}
\caption{Assessment of the collected papers on the key properties, which are important for readily comparing and comprehending the differences and limitations of different counterfactual algorithms. Papers are sorted chronologically. Details about the full table is given in appendix~\ref{sec:full-table}.}
\centering
\label{tab:main-table}

\resizebox{\textwidth}{!}{%

 \begin{tabular}{m{0.04\textwidth}m{0.06\textwidth}m{0.095\textwidth}m{0.13\textwidth}m{0.04\textwidth}m{0.06\textwidth}m{0.12\textwidth}m{0.10\textwidth}m{0.11\textwidth}m{0.11\textwidth}m{0.125\textwidth}}

 \toprule
 &  & \vbarmc{2}{Assumptions} & \vbarmc{2}{Optimization amortization} & \vbarmc{3}{CF attributes} & \vbarmc{2}{CF opt. problem attributes} \\ \cmidrule{3-11}    
 Year & Paper & Model \mbox{access} & Model \mbox{domain} & Amortized \mbox{Inference} & Multiple CFEs & Sparsity & Data \mbox{manifold} & Causal \mbox{relation} & Feature \mbox{preference} & Categorical dist. func \\
 
 \midrule
 \multirow{3}{*}{2017 $\begin{dcases*} \\ \\ \\ \\  \end{dcases*}$} & \citep{inverse-classification2} & Black-box & Agnostic & No & No & Iteratively & No & No & Yes & - \\
 & \citep{wachter_counterfactual_2017} & Gradients & Differentiable & No & No & L1 & No & No & No & - \\
 & \citep{Tolomei2017:Interpretable} & Complete & Tree ensemble & No & No & No & No & No & No & - \\
 \multirow{5}{*}{2018 $\begin{dcases*} \\ \\ \\ \\ \\ \\ \end{dcases*}$} & \citep{medina_comparison-based_2018} & Black-box & Agnostic & No & No & L0 and post-hoc & No & No & No & - \\ % 18 May 2018   % growing spheres
 & \citep{guidotti_local_2018} & Black-box & Agnostic & No & Yes & Flips min. split nodes & No & No & No & Indicator \\ % 28 May 2018       % not an optimization problem
 & \citep{dhurandhar_explanations_2018} & Gradients & Differentiable & No & No & L1 & Yes & No & No & - \\ % october 2018
 & \citep{grath_interpretable_2018} & Black-box & Agnostic & No & No & No & No & No & No\footnote{It considers global and local feature importance, not preference.} & - \\ % Nov 2018 % Nelder-mead 
 \multirow{8}{*}{2019 $\begin{dcases*} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \end{dcases*}$} & \citep{russell_efficient_2019} & Complete & Linear & No & Yes & L1 & No & No & No & N.A.\footnote{All features are converted to polytope type.} \\ % 2nd Jan 2019
 & \citep{Ustun19:Actionable} & Complete & Linear & No & No & Hard \mbox{constraint} & No & No & Yes & - \\ % Jan 29, 2019
 & \citep{sharma_certifai_2019} & Black-box & Agnostic & No & Yes & No & No & No & Yes & Indicator \\ % 19th May 2019   % genetic 
 & \citep{dhurandhar_model_2019} & Black-box or gradient & Differentiable & No & No & L1 & Yes & No & No & - \\ % 31st May 2019 % FISTA
 & \citep{rathi-generating:2019} & Black-box & Agnostic & No & No & No & No & No & No & - \\ % 21th June, 2019 % Not an optimization problem
 & \citep{joshi_towards_2019} & Gradients & Differentiable & No & No & No & Yes & No & No & - \\
 % 22nd July 2019
 & \citep{ramakrishnan_synthesizing_2019} & Gradients & Differentiable & No & No & No & No & No & No & - \\ % 9th Oct 2019
 & \citep{white_measurable_2019,white_measurable_2021_supporting} & Black-box & Agnostic & No & No & Changes one feature & No & No & No & - \\ % 23rd Nov 2019 % Not an optimization problem
 \multirow{17}{*}{2020 $\begin{dcases*} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \end{dcases*}$} & \citep{mothilal_explaining_2020} & Gradients & Differentiable & No & Yes & L1 and post-hoc & No & No & No & Indicator \\ % 27th Jan 2020
 & \citep{poyiadzi_face_2020} & Black-box & Agnostic & No & No & No & Yes\footnote{Does not generate new datapoints} & No & No & - \\ % 7th Feb, 2020  % Dijkstra's algorithm
 & \citep{van_looveren_interpretable_2020} & Black-box or gradient & Differentiable & No & No & L1 & Yes & No & No & Embedding\\ % 18th Feb, 2020   % FISTA
 & \citep{mahajan_preserving_2020} & Gradients & Differentiable & Yes & Yes & No & Yes & Yes & Yes & - \\ % 22nd Feb, 2020
 & \citep{karimi_model-agnostic_2020} & Complete & Linear & No & Yes & Hard \mbox{constraint} & No & No & Yes & Indicator \\ % 28th Feb, 2020 This is claimed to be model-agnostic, but it is not. It requires linear models, can't do sigmoid activation. 
 & \citep{pawelczyk_learning_2020} & Gradients & Differentiable & No & No & No & Yes & No & Yes & N.A.\footnote{The distance is calculated in latent space.} \\ % 20th Apr, 2020
 & \cite{keane2020good} & Black-box & Agnostic & No & No & Yes & Yes & No & No & - \\ % 26th May, 2020
 & \citep{karimi_algorithmic_2020} & Complete & Linear and causal graph & No & No & L1 & No & Yes & Yes & - \\ % 11th Jun, 2020
 & \citep{karimi-imperfect:2020} & Gradients & Differentiable & No & No & No & No & Yes & Yes & - \\ % 16th June 2020
 & \citep{Grace:2019} & Gradients & Differentiable & No & No & Iteratively & Yes & No  & No\footnote{It considers feature importance not user preference.} & - \\ % 21st June, 2020
 & \citep{dandl_multi-objective_2020} & Black-box & Agnostic & No & Yes & L0 & Yes & No & Yes & Indicator \\ % 24th June 2020 % Genetic
 & \citep{Kanamori2020:DACE} & Complete & Linear and tree ensemble & No & No & No & Yes & No & Yes & - \\ % July, 2020
 & \citep{fernandez-random:2020} & Complete & Random \mbox{Forest} & No & Yes & L1 & No & No & No & - \\ % 3rd July 2020
 & \citep{lucic-actionable:2020,lucic-actionable:2020-update1} & Complete & Tree ensemble & No & No & L1 & No & No & No  & - \\ % 9th July 2020 
 %% Second version papers
%  \midrule - there were 5 second version papers here, shifted down for journal submission
  
 \bottomrule
 \end{tabular}

 }

\end{table*}



\begin{table*}
    \caption{Continued from \Cref{tab:main-table}}
    \centering
    \label{tab:main-table2}
    
    \resizebox{\textwidth}{!}{%
    
    \begin{tabular}{m{0.04\textwidth}m{0.06\textwidth}m{0.095\textwidth}m{0.13\textwidth}m{0.04\textwidth}m{0.06\textwidth}m{0.12\textwidth}m{0.10\textwidth}m{0.11\textwidth}m{0.11\textwidth}m{0.125\textwidth}}

    \toprule
    &  & \vbarmc{2}{Assumptions} & \vbarmc{2}{Optimization amortization} & \vbarmc{3}{CF attributes} & \vbarmc{2}{CF opt. problem attributes} \\ \cmidrule{3-11}    
    Year & Paper & Model \mbox{access} & Model \mbox{domain} & Amortized \mbox{Inference} & Multiple CFEs & Sparsity & Data \mbox{manifold} & Causal \mbox{relation} & Feature \mbox{preference} & Categorical dist. func \\
    \midrule
    % \citep{efficient-contrastive} & Complete & Linear & No & No & L1 & Yes & No & No & - \\ %4 Jan 2021
    \multirow{23}{*}{2021 $\begin{dcases*} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \end{dcases*}$} & \citep{conditional_gan_cfe_looveren} & Gradient & Differentiable & Yes & No & L1 & No\footnote{Maybe partially as it uses cycle consistency loss} & No & No & - \\ % 25 Jan 2021
    & \citep{oblique-tree-cfe,oblique-tree-cfe-copy} & Complete & Decision Tree & No & Yes & L1 & No & No & Yes & - \\ % 1st Mar, 2021 
    & \citep{Ordered-CFE-Kanamori} & Complete & Linear & No & Yes & Iteratively & No & Yes & No & - \\  % 14th March, 2021
    & \citep{Epistemic_and_Aleatoric_uncertainty} & Gradients & Differentiable & No & No & Iteratively & Yes & No & Yes & -  \\ %16 Mar 2021 
    & \citep{naumann2021consequenceaware} & Black-box & Agnostic & No & Yes & Gower & No & Yes & Yes & Gower \\  % 12th April, 2021
    & \citep{nice_cfe} & Black-box & Agnostic & No & No & Yes & Yes & No & No & Indicator \\ %15 Apr 2021
    & \citep{prototype_based_cfe} & Black-box & Agnostic & No & No & No & No & Yes & No & Latent space \\ % 3rd May, 2021
    & \citep{CFE-scorecard} & Complete & Linear & No & Yes & Hard \mbox{constraint} & Yes & No & Yes & - \\ %9 May 2021
    & \citep{convex_optimization_cfe} & Complete & Linear & No & No & No & Yes & No & No & - \\ % 17th May, 2021
    & \citep{schleich2021geco} & Black-box or complete & Agnostic if black-box & No & Yes & L0/L1 & No & Yes & Yes & Indicator \\ %19th May 2021
    & \citep{nemirovsky-hired-people-cfe-countergan} & Black-box or gradient & Agnostic if black-box & Yes & No & L1 & Yes & No & Yes & - \\ % 27th May, 2021
    & \citep{Pierre-tree-ensemble-pure-region} & Complete & Tree ensemble & Yes & No & Yes & No & No & Yes & - \\ % 31st May 2021
    & \citep{rl_cfe_approach2_amortized} & Black-box & Agnostic & Yes & Yes & L0/L1 & Yes & No & Yes & Indicator \\ % 4 Jun 2021
    & \citep{verma2021amortized} & Black-box & Agnostic & Yes & Yes & Iteratively & Yes & Yes & Yes & - \\ % 7th June, 2021
    & \citep{CFE-Tree-ensembles} & Complete & Tree ensemble & No & No & L0/L1 & Yes & No & Yes & Gower \\ %25 Jun 2021
    & \citep{scaling_Nearest_CFE} & Complete & Linear & No & Yes & Hard \mbox{constraint} & No & No & Yes & Indicator \\ % 30 July 2021
    & \citep{Fraunhofer-pure-region-sampling} & Black-box & Agnostic & Yes & Yes & No & No & No & No & - \\ % 11th August, 2021
    & \citep{gan_cfe_amortized} & Black-box & Agnostic & Yes & Yes & No & Yes & Yes & No & Not sure \\ % 14 August 2021
    & \citep{Gradual_Construction} & Gradient & Differentiable & No & No & No & No & No & No & - \\ % 6 Sep 2021 \\
    & \citep{coherent_CFEs} & Black-box & Agnostic & No & No & L1 & Yes & No & No & Markov Chains \\ % 30 Sep 2021
    & \citep{monte-carlo-cfe-technique} & Black-box & Agnostic & Partially & Yes & Hard constraint & No & No & Yes & Gower \\ % 18th Nov 2021
    \multirow{5}{*}{2022 $\begin{dcases*} \\ \\ \\ \\ \\ \\ \\ \end{dcases*}$} & \citep{guo-cfe-counternet} & Training from scratch & Differentiable & Yes & No & No & No & No & No & - \\ % Jan 30, 2022
    & \citep{Xiang2022-Realistic-VAE-CFE} & Gradient & Differentiable & No & No & No & Yes & Yes & No & - \\ % 15th Feb, 2022
    & \citep{user-specific-cost} & Black-box & Agnostic & No & Might & Yes & No & No & Yes & - \\ % 21st Feb 2022
    & \citep{hima-beyond-recourse-globalcfe} & Black-box & Agnostic & Yes & Might & Yes & No & No & Yes & Indicator \\ % 15th April, 2022
    & \citep{sum-product-networks-cfe} & Training from scratch & Differentiable & No & No & No & Yes & No & Yes & - \\  % 16th May, 2022
     \bottomrule
     \end{tabular}
     }
    
    \end{table*}
    